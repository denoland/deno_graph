bureaudouble/bureau/0.0.3
-- deno.lock --
{
  "version": "3",
  "packages": {
    "specifiers": {
      "jsr:@bureaudouble/islet@0.0.7": "jsr:@bureaudouble/islet@0.0.7",
      "jsr:@bureaudouble/outils@0.0.4": "jsr:@bureaudouble/outils@0.0.4",
      "jsr:@bureaudouble/scripted@0.0.2": "jsr:@bureaudouble/scripted@0.0.2",
      "jsr:@luca/esbuild-deno-loader@0.9": "jsr:@luca/esbuild-deno-loader@0.9.0",
      "jsr:@std/assert@^0.213.1": "jsr:@std/assert@0.213.1",
      "jsr:@std/assert@^0.216.0": "jsr:@std/assert@0.216.0",
      "jsr:@std/crypto@0.216": "jsr:@std/crypto@0.216.0",
      "jsr:@std/encoding@0.213": "jsr:@std/encoding@0.213.1",
      "jsr:@std/encoding@0.216": "jsr:@std/encoding@0.216.0",
      "jsr:@std/fs@0.216": "jsr:@std/fs@0.216.0",
      "jsr:@std/json@^0.213.1": "jsr:@std/json@0.213.1",
      "jsr:@std/jsonc@0.213": "jsr:@std/jsonc@0.213.1",
      "jsr:@std/path@0.213": "jsr:@std/path@0.213.1",
      "jsr:@std/path@0.216": "jsr:@std/path@0.216.0",
      "jsr:@std/path@^0.216.0": "jsr:@std/path@0.216.0",
      "npm:esbuild@0.20": "npm:esbuild@0.20.1",
      "npm:esbuild@0.20.1": "npm:esbuild@0.20.1",
      "npm:kysely@0.27.2": "npm:kysely@0.27.2",
      "npm:mrmime@2.0.0": "npm:mrmime@2.0.0",
      "npm:react-dom@^18.2.0": "npm:react-dom@18.3.1_react@18.3.1"
    },
    "jsr": {
      "@bureaudouble/islet@0.0.7": {
        "integrity": "6b176c3304b234d657869b5cfd7d2a39a669d23794c875251cb09e45e38e9499",
        "dependencies": [
          "jsr:@luca/esbuild-deno-loader@0.9",
          "jsr:@std/crypto@0.216",
          "jsr:@std/encoding@0.216",
          "jsr:@std/fs@0.216",
          "jsr:@std/path@0.216",
          "npm:esbuild@0.20.1"
        ]
      },
      "@bureaudouble/outils@0.0.4": {
        "integrity": "df48cd080d1f0bd213cab905ee22d5c2318d32737ce171cb62ceb7f2826506dd",
        "dependencies": [
          "npm:kysely@0.27.2",
          "npm:mrmime@2.0.0"
        ]
      },
      "@bureaudouble/scripted@0.0.2": {
        "integrity": "6ba53621ed24438e28f9949301f39eb0241e8746433b1465479b91c29475b58b"
      },
      "@luca/esbuild-deno-loader@0.9.0": {
        "integrity": "288bbcede5c8a6f97e635f8fa4df779b13440ee0c0506d9e478fb6537789dc93",
        "dependencies": [
          "jsr:@std/encoding@0.213",
          "jsr:@std/jsonc@0.213",
          "jsr:@std/path@0.213",
          "npm:esbuild@0.20"
        ]
      },
      "@std/assert@0.213.1": {
        "integrity": "24c28178b30c8e0782c18e8e94ea72b16282207569cdd10ffb9d1d26f2edebfe"
      },
      "@std/assert@0.216.0": {
        "integrity": "f65392edf3bec39e2d1028e51f1da549db81691034b244eaba83318a757c0c2e"
      },
      "@std/crypto@0.216.0": {
        "integrity": "04efc82b5daef3ca07a4dfcb8b8d5ed6832f430976b928e9c2af71b2ea79c1d9"
      },
      "@std/encoding@0.213.1": {
        "integrity": "fcbb6928713dde941a18ca5db88ca1544d0755ec8fb20fe61e2dc8144b390c62"
      },
      "@std/encoding@0.216.0": {
        "integrity": "607d82c978e91aa9db455e79fdd09a9bc2e9089de5c05c8807c19b8ea05ce226"
      },
      "@std/fs@0.216.0": {
        "integrity": "5ed8d2b3aa820d42dd84ee612aed5e4e24f20046709d41d18024ae2ac7463ed6",
        "dependencies": [
          "jsr:@std/path@^0.216.0"
        ]
      },
      "@std/json@0.213.1": {
        "integrity": "f572b1de605d07c4a5602445dac54bfc51b1fb87a3710a17aed2608bfca54e68"
      },
      "@std/jsonc@0.213.1": {
        "integrity": "5578f21aa583b7eb7317eed077ffcde47b294f1056bdbb9aacec407758637bfe",
        "dependencies": [
          "jsr:@std/assert@^0.213.1",
          "jsr:@std/json@^0.213.1"
        ]
      },
      "@std/path@0.213.1": {
        "integrity": "f187bf278a172752e02fcbacf6bd78a335ed320d080a7ed3a5a59c3e88abc673",
        "dependencies": [
          "jsr:@std/assert@^0.213.1"
        ]
      },
      "@std/path@0.216.0": {
        "integrity": "85c121f1b43f7fb17e225567c4f151b3a67796ed8c619d37f9d61ea46116a2f0",
        "dependencies": [
          "jsr:@std/assert@^0.216.0"
        ]
      }
    },
    "npm": {
      "@esbuild/aix-ppc64@0.20.1": {
        "integrity": "sha512-m55cpeupQ2DbuRGQMMZDzbv9J9PgVelPjlcmM5kxHnrBdBx6REaEd7LamYV7Dm8N7rCyR/XwU6rVP8ploKtIkA==",
        "dependencies": {}
      },
      "@esbuild/android-arm64@0.20.1": {
        "integrity": "sha512-hCnXNF0HM6AjowP+Zou0ZJMWWa1VkD77BXe959zERgGJBBxB+sV+J9f/rcjeg2c5bsukD/n17RKWXGFCO5dD5A==",
        "dependencies": {}
      },
      "@esbuild/android-arm@0.20.1": {
        "integrity": "sha512-4j0+G27/2ZXGWR5okcJi7pQYhmkVgb4D7UKwxcqrjhvp5TKWx3cUjgB1CGj1mfdmJBQ9VnUGgUhign+FPF2Zgw==",
        "dependencies": {}
      },
      "@esbuild/android-x64@0.20.1": {
        "integrity": "sha512-MSfZMBoAsnhpS+2yMFYIQUPs8Z19ajwfuaSZx+tSl09xrHZCjbeXXMsUF/0oq7ojxYEpsSo4c0SfjxOYXRbpaA==",
        "dependencies": {}
      },
      "@esbuild/darwin-arm64@0.20.1": {
        "integrity": "sha512-Ylk6rzgMD8klUklGPzS414UQLa5NPXZD5tf8JmQU8GQrj6BrFA/Ic9tb2zRe1kOZyCbGl+e8VMbDRazCEBqPvA==",
        "dependencies": {}
      },
      "@esbuild/darwin-x64@0.20.1": {
        "integrity": "sha512-pFIfj7U2w5sMp52wTY1XVOdoxw+GDwy9FsK3OFz4BpMAjvZVs0dT1VXs8aQm22nhwoIWUmIRaE+4xow8xfIDZA==",
        "dependencies": {}
      },
      "@esbuild/freebsd-arm64@0.20.1": {
        "integrity": "sha512-UyW1WZvHDuM4xDz0jWun4qtQFauNdXjXOtIy7SYdf7pbxSWWVlqhnR/T2TpX6LX5NI62spt0a3ldIIEkPM6RHw==",
        "dependencies": {}
      },
      "@esbuild/freebsd-x64@0.20.1": {
        "integrity": "sha512-itPwCw5C+Jh/c624vcDd9kRCCZVpzpQn8dtwoYIt2TJF3S9xJLiRohnnNrKwREvcZYx0n8sCSbvGH349XkcQeg==",
        "dependencies": {}
      },
      "@esbuild/linux-arm64@0.20.1": {
        "integrity": "sha512-cX8WdlF6Cnvw/DO9/X7XLH2J6CkBnz7Twjpk56cshk9sjYVcuh4sXQBy5bmTwzBjNVZze2yaV1vtcJS04LbN8w==",
        "dependencies": {}
      },
      "@esbuild/linux-arm@0.20.1": {
        "integrity": "sha512-LojC28v3+IhIbfQ+Vu4Ut5n3wKcgTu6POKIHN9Wpt0HnfgUGlBuyDDQR4jWZUZFyYLiz4RBBBmfU6sNfn6RhLw==",
        "dependencies": {}
      },
      "@esbuild/linux-ia32@0.20.1": {
        "integrity": "sha512-4H/sQCy1mnnGkUt/xszaLlYJVTz3W9ep52xEefGtd6yXDQbz/5fZE5dFLUgsPdbUOQANcVUa5iO6g3nyy5BJiw==",
        "dependencies": {}
      },
      "@esbuild/linux-loong64@0.20.1": {
        "integrity": "sha512-c0jgtB+sRHCciVXlyjDcWb2FUuzlGVRwGXgI+3WqKOIuoo8AmZAddzeOHeYLtD+dmtHw3B4Xo9wAUdjlfW5yYA==",
        "dependencies": {}
      },
      "@esbuild/linux-mips64el@0.20.1": {
        "integrity": "sha512-TgFyCfIxSujyuqdZKDZ3yTwWiGv+KnlOeXXitCQ+trDODJ+ZtGOzLkSWngynP0HZnTsDyBbPy7GWVXWaEl6lhA==",
        "dependencies": {}
      },
      "@esbuild/linux-ppc64@0.20.1": {
        "integrity": "sha512-b+yuD1IUeL+Y93PmFZDZFIElwbmFfIKLKlYI8M6tRyzE6u7oEP7onGk0vZRh8wfVGC2dZoy0EqX1V8qok4qHaw==",
        "dependencies": {}
      },
      "@esbuild/linux-riscv64@0.20.1": {
        "integrity": "sha512-wpDlpE0oRKZwX+GfomcALcouqjjV8MIX8DyTrxfyCfXxoKQSDm45CZr9fanJ4F6ckD4yDEPT98SrjvLwIqUCgg==",
        "dependencies": {}
      },
      "@esbuild/linux-s390x@0.20.1": {
        "integrity": "sha512-5BepC2Au80EohQ2dBpyTquqGCES7++p7G+7lXe1bAIvMdXm4YYcEfZtQrP4gaoZ96Wv1Ute61CEHFU7h4FMueQ==",
        "dependencies": {}
      },
      "@esbuild/linux-x64@0.20.1": {
        "integrity": "sha512-5gRPk7pKuaIB+tmH+yKd2aQTRpqlf1E4f/mC+tawIm/CGJemZcHZpp2ic8oD83nKgUPMEd0fNanrnFljiruuyA==",
        "dependencies": {}
      },
      "@esbuild/netbsd-x64@0.20.1": {
        "integrity": "sha512-4fL68JdrLV2nVW2AaWZBv3XEm3Ae3NZn/7qy2KGAt3dexAgSVT+Hc97JKSZnqezgMlv9x6KV0ZkZY7UO5cNLCg==",
        "dependencies": {}
      },
      "@esbuild/openbsd-x64@0.20.1": {
        "integrity": "sha512-GhRuXlvRE+twf2ES+8REbeCb/zeikNqwD3+6S5y5/x+DYbAQUNl0HNBs4RQJqrechS4v4MruEr8ZtAin/hK5iw==",
        "dependencies": {}
      },
      "@esbuild/sunos-x64@0.20.1": {
        "integrity": "sha512-ZnWEyCM0G1Ex6JtsygvC3KUUrlDXqOihw8RicRuQAzw+c4f1D66YlPNNV3rkjVW90zXVsHwZYWbJh3v+oQFM9Q==",
        "dependencies": {}
      },
      "@esbuild/win32-arm64@0.20.1": {
        "integrity": "sha512-QZ6gXue0vVQY2Oon9WyLFCdSuYbXSoxaZrPuJ4c20j6ICedfsDilNPYfHLlMH7vGfU5DQR0czHLmJvH4Nzis/A==",
        "dependencies": {}
      },
      "@esbuild/win32-ia32@0.20.1": {
        "integrity": "sha512-HzcJa1NcSWTAU0MJIxOho8JftNp9YALui3o+Ny7hCh0v5f90nprly1U3Sj1Ldj/CvKKdvvFsCRvDkpsEMp4DNw==",
        "dependencies": {}
      },
      "@esbuild/win32-x64@0.20.1": {
        "integrity": "sha512-0MBh53o6XtI6ctDnRMeQ+xoCN8kD2qI1rY1KgF/xdWQwoFeKou7puvDfV8/Wv4Ctx2rRpET/gGdz3YlNtNACSA==",
        "dependencies": {}
      },
      "esbuild@0.20.1": {
        "integrity": "sha512-OJwEgrpWm/PCMsLVWXKqvcjme3bHNpOgN7Tb6cQnR5n0TPbQx1/Xrn7rqM+wn17bYeT6MGB5sn1Bh5YiGi70nA==",
        "dependencies": {
          "@esbuild/aix-ppc64": "@esbuild/aix-ppc64@0.20.1",
          "@esbuild/android-arm": "@esbuild/android-arm@0.20.1",
          "@esbuild/android-arm64": "@esbuild/android-arm64@0.20.1",
          "@esbuild/android-x64": "@esbuild/android-x64@0.20.1",
          "@esbuild/darwin-arm64": "@esbuild/darwin-arm64@0.20.1",
          "@esbuild/darwin-x64": "@esbuild/darwin-x64@0.20.1",
          "@esbuild/freebsd-arm64": "@esbuild/freebsd-arm64@0.20.1",
          "@esbuild/freebsd-x64": "@esbuild/freebsd-x64@0.20.1",
          "@esbuild/linux-arm": "@esbuild/linux-arm@0.20.1",
          "@esbuild/linux-arm64": "@esbuild/linux-arm64@0.20.1",
          "@esbuild/linux-ia32": "@esbuild/linux-ia32@0.20.1",
          "@esbuild/linux-loong64": "@esbuild/linux-loong64@0.20.1",
          "@esbuild/linux-mips64el": "@esbuild/linux-mips64el@0.20.1",
          "@esbuild/linux-ppc64": "@esbuild/linux-ppc64@0.20.1",
          "@esbuild/linux-riscv64": "@esbuild/linux-riscv64@0.20.1",
          "@esbuild/linux-s390x": "@esbuild/linux-s390x@0.20.1",
          "@esbuild/linux-x64": "@esbuild/linux-x64@0.20.1",
          "@esbuild/netbsd-x64": "@esbuild/netbsd-x64@0.20.1",
          "@esbuild/openbsd-x64": "@esbuild/openbsd-x64@0.20.1",
          "@esbuild/sunos-x64": "@esbuild/sunos-x64@0.20.1",
          "@esbuild/win32-arm64": "@esbuild/win32-arm64@0.20.1",
          "@esbuild/win32-ia32": "@esbuild/win32-ia32@0.20.1",
          "@esbuild/win32-x64": "@esbuild/win32-x64@0.20.1"
        }
      },
      "js-tokens@4.0.0": {
        "integrity": "sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==",
        "dependencies": {}
      },
      "kysely@0.27.2": {
        "integrity": "sha512-DmRvEfiR/NLpgsTbSxma2ldekhsdcd65+MNiKXyd/qj7w7X5e3cLkXxcj+MypsRDjPhHQ/CD5u3Eq1sBYzX0bw==",
        "dependencies": {}
      },
      "loose-envify@1.4.0": {
        "integrity": "sha512-lyuxPGr/Wfhrlem2CL/UcnUc1zcqKAImBDzukY7Y5F/yQiNdko6+fRLevlw1HgMySw7f611UIY408EtxRSoK3Q==",
        "dependencies": {
          "js-tokens": "js-tokens@4.0.0"
        }
      },
      "mrmime@2.0.0": {
        "integrity": "sha512-eu38+hdgojoyq63s+yTpN4XMBdt5l8HhMhc4VKLO9KM5caLIBvUm4thi7fFaxyTmCKeNnXZ5pAlBwCUnhA09uw==",
        "dependencies": {}
      },
      "react-dom@18.3.1_react@18.3.1": {
        "integrity": "sha512-5m4nQKp+rZRb09LNH59GM4BxTh9251/ylbKIbpe7TpGxfJ+9kv6BLkLBXIjjspbgbnIBNqlI23tRnTWT0snUIw==",
        "dependencies": {
          "loose-envify": "loose-envify@1.4.0",
          "react": "react@18.3.1",
          "scheduler": "scheduler@0.23.2"
        }
      },
      "react@18.3.1": {
        "integrity": "sha512-wS+hAgJShR0KhEvPJArfuPVN1+Hz1t0Y6n5jLrGQbkb4urgPE/0Rve+1kMB1v/oWgHgm4WIcV+i7F2pTVj+2iQ==",
        "dependencies": {
          "loose-envify": "loose-envify@1.4.0"
        }
      },
      "scheduler@0.23.2": {
        "integrity": "sha512-UOShsPwz7NrMUqhR6t0hWjFduvOzbtv7toDH1/hIrfRNIDBnnBWd0CwJTGvTpngVlmwGCdP9/Zl/tVrDqcuYzQ==",
        "dependencies": {
          "loose-envify": "loose-envify@1.4.0"
        }
      }
    }
  },
  "remote": {}
}

===

== FAST CHECK EMIT FAILED ==
error[missing-explicit-return-type]: missing explicit return type in the public API
 --> /src/routes/analytics/api/client.ts:8:7
  | 
8 | const clientScript = (endpoint: string | URL) => {
  |       ^^^^^^^^^^^^ this function is missing an explicit return type
  = hint: add an explicit return type of 'void' or 'never' to the function

  info: all functions in the public API must have an explicit return type
  info: functions without a return statement can have a return type of either 'void' or 'never'
  info: this function has no return statements, so a return type could not be inferred automatically
  docs: https://jsr.io/go/slow-type-missing-explicit-return-type


error[missing-explicit-return-type]: missing explicit return type in the public API
  --> /src/routes/analytics/utils/createRequiredTables.ts:1:16
   | 
 1 | export default async (db: any) => {
   |                ^^^^^^^^^^^^^^^^^^^^
 2 |   await db
   | ^^^^^^^^^^
 3 |     .query(
   | ^^^^^^^^^^^
 4 |       /* sql */ `
   | ^^^^^^^^^^^^^^^^^
 5 |   CREATE TABLE IF NOT EXISTS "analytics_visits" (
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
 6 |     id INTEGER DEFAULT (
   | ^^^^^^^^^^^^^^^^^^^^^^^^
 7 |       CAST(
   | ^^^^^^^^^^^
 8 |         ROUND((julianday('now') - 2440587.5) * 86400000) As INTEGER
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
 9 |       )
   | ^^^^^^^
10 |     ) PRIMARY KEY,
   | ^^^^^^^^^^^^^^^^^^
11 |     referrer TEXT,
   | ^^^^^^^^^^^^^^^^^^
12 |     ip TEXT,
   | ^^^^^^^^^^^^
13 |     user_agent TEXT,
   | ^^^^^^^^^^^^^^^^^^^^
14 |     hostname TEXT,
   | ^^^^^^^^^^^^^^^^^^
15 |     latitude REAL,
   | ^^^^^^^^^^^^^^^^^^
16 |     longitude REAL,
   | ^^^^^^^^^^^^^^^^^^^
17 |     country_code TEXT,
   | ^^^^^^^^^^^^^^^^^^^^^^
18 |     region_name TEXT,
   | ^^^^^^^^^^^^^^^^^^^^^
19 |     city_name TEXT,
   | ^^^^^^^^^^^^^^^^^^^
20 |     parameters TEXT,
   | ^^^^^^^^^^^^^^^^^^^^
21 |     screen_width INTEGER,
   | ^^^^^^^^^^^^^^^^^^^^^^^^^
22 |     screen_height INTEGER,
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^
23 |     load_time REAL,
   | ^^^^^^^^^^^^^^^^^^^
24 |     visit_duration REAL,
   | ^^^^^^^^^^^^^^^^^^^^^^^^
25 |     "path" TEXT,
   | ^^^^^^^^^^^^^^^^
26 |     session_id INTEGER,
   | ^^^^^^^^^^^^^^^^^^^^^^^
27 |     ignore INTEGER
   | ^^^^^^^^^^^^^^^^^^
28 |   ) STRICT;
   | ^^^^^^^^^^^
29 |   `
   | ^^^
30 |     )
   | ^^^^^
31 |     .catch(() => null);
   | ^^^^^^^^^^^^^^^^^^^^^^^
32 |   await db
   | ^^^^^^^^^^
33 |     .query(
   | ^^^^^^^^^^^
34 |       /* sql */ `
   | ^^^^^^^^^^^^^^^^^
35 |   CREATE TABLE IF NOT EXISTS "analytics_events" (
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
36 |     id INTEGER DEFAULT (
   | ^^^^^^^^^^^^^^^^^^^^^^^^
37 |       CAST(
   | ^^^^^^^^^^^
38 |         ROUND((julianday('now') - 2440587.5) * 86400000) As INTEGER
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
39 |       )
   | ^^^^^^^
40 |     ) NOT NULL,
   | ^^^^^^^^^^^^^^^
41 |     visit_id INTEGER NOT NULL,
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
42 |     category TEXT NOT NULL,
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^
43 |     action TEXT NOT NULL,
   | ^^^^^^^^^^^^^^^^^^^^^^^^^
44 |     value TEXT NULL,
   | ^^^^^^^^^^^^^^^^^^^^
45 |     label TEXT NULL,
   | ^^^^^^^^^^^^^^^^^^^^
46 |     FOREIGN KEY (visit_id) REFERENCES visits(id) ON UPDATE RESTRICT ON DELETE RESTRICT
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
47 |   );  
   | ^^^^^^
48 | `
   | ^
49 |     )
   | ^^^^^
50 |     .catch(() => null);
   | ^^^^^^^^^^^^^^^^^^^^^^^
51 | };
   | ^ this function is missing an explicit return type
   = hint: add an explicit return type of 'void' or 'never' to the function

  info: all functions in the public API must have an explicit return type
  info: async functions without a return statement can have a return type of either 'Promise<void>' or 'Promise<never>'
  info: this function has no return statements, so a return type could not be inferred automatically
  docs: https://jsr.io/go/slow-type-missing-explicit-return-type


